{"ast":null,"code":"import _slicedToArray from\"C:/Users/Vy Khoi/Pictures/AdminCellphones2/tua-react-admin-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Table from\"../components/table/Table\";import{useHistory}from\"react-router-dom/cjs/react-router-dom\";// import listproductColorBranch from \"../assets/JsonData/productColorBranch.json\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var productColorBranchTableHead=[\"idPC-Branch\",\"id-Branch\",\"Name Product\",\"Color\",\"Price\",\"Type\",\"amount\"];var ProductColorBranch=function ProductColorBranch(){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),branchId=_useState2[0],setBranchId=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),dsFillter=_useState4[0],setDsFillter=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),listproductColorBranch=_useState6[0],setListproductColorBranch=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),key=_useState10[0],setKey=_useState10[1];var _renderHead=function renderHead(item,index){return/*#__PURE__*/_jsx(\"th\",{children:item},index);};var history=useHistory();var _renderBody=function renderBody(item,index){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return HandleClickProductColorBranch(item.idBPC);},children:[/*#__PURE__*/_jsx(\"td\",{children:item.idBPC}),/*#__PURE__*/_jsx(\"td\",{children:item.idBranch}),/*#__PURE__*/_jsx(\"td\",{children:item.nameProduct}),/*#__PURE__*/_jsx(\"td\",{children:item.nameColor}),/*#__PURE__*/_jsx(\"td\",{children:item.price}),/*#__PURE__*/_jsx(\"td\",{children:item.type}),/*#__PURE__*/_jsx(\"td\",{children:item.amount})]},index);};// chuyển side working\nfunction HandleClickProductColorBranch(idPCB){var idPCBtmp=idPCB?idPCB:\"\";history.push(\"/productColorBranchWorkingPage/\".concat(idPCBtmp));console.log(\"co click\");}var handleBranchFilter=function handleBranchFilter(event){var value=event.target.value;console.log(event.target.value);setBranchId(value);};useEffect(function(){// Gọi API hoặc lấy dữ liệu từ database tại đây\n// Ví dụ:\nfetch('https://localhost:8000/Admin/getBranchProductColor').then(function(res){return res.json();}).then(function(data){setListproductColorBranch(data);setIsLoading(false);}).catch(function(err){return console.error(err);});},[]);// Lưu ý tham số thứ hai của useEffect, truyền vào một mảng rỗng để useEffect chỉ chạy một lần khi component được mount\nuseEffect(function(){var filteredList=listproductColorBranch.filter(function(item){return item.idBranch===parseInt(branchId);});setDsFillter(filteredList);setKey(key+1);},[branchId,listproductColorBranch]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"page-header\",children:\"Product- Color\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"product-color-branch\",name:\"product-color\",className:\"select-color\",value:branchId,onChange:handleBranchFilter,children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"C\\u1EEDa H\\xE0ng 1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"C\\u1EEDa H\\xE0ng 2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"C\\u1EEDa H\\xE0ng 3\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"addProduct\",onClick:function onClick(){return HandleClickProductColorBranch(null);},children:\"Th\\xEAm\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card__body\",children:/*#__PURE__*/_jsx(Table,{limit:\"10\",headData:productColorBranchTableHead,renderHead:function renderHead(item,index){return _renderHead(item,index);},bodyData:dsFillter,renderBody:function renderBody(item,index){return _renderBody(item,index);}})})})})})]},key);};export default ProductColorBranch;","map":{"version":3,"names":["React","useState","useEffect","Table","useHistory","jsx","_jsx","jsxs","_jsxs","productColorBranchTableHead","ProductColorBranch","_useState","_useState2","_slicedToArray","branchId","setBranchId","_useState3","_useState4","dsFillter","setDsFillter","_useState5","_useState6","listproductColorBranch","setListproductColorBranch","_useState7","_useState8","isLoading","setIsLoading","_useState9","_useState10","key","setKey","renderHead","item","index","children","history","renderBody","onClick","HandleClickProductColorBranch","idBPC","idBranch","nameProduct","nameColor","price","type","amount","idPCB","idPCBtmp","push","concat","console","log","handleBranchFilter","event","value","target","fetch","then","res","json","data","catch","err","error","filteredList","filter","parseInt","className","id","name","onChange","limit","headData","bodyData"],"sources":["C:/Users/Vy Khoi/Pictures/AdminCellphones2/tua-react-admin-main/src/pages/ProductColorBranch.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Table from \"../components/table/Table\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom\";\r\n// import listproductColorBranch from \"../assets/JsonData/productColorBranch.json\";\r\n\r\nconst productColorBranchTableHead = [\r\n  \"idPC-Branch\",\r\n  \"id-Branch\",\r\n  \"Name Product\",\r\n  \"Color\",\r\n  \"Price\",\r\n  \"Type\",\r\n  \"amount\",\r\n];\r\n\r\nconst ProductColorBranch = () => {\r\n  const [branchId, setBranchId] = useState(1);\r\n  const [dsFillter, setDsFillter] = useState([]);\r\n  const [listproductColorBranch, setListproductColorBranch] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [key, setKey] = useState(0);\r\n\r\n\r\n  const renderHead = (item, index) => <th key={index}>{item}</th>;\r\n  const history = useHistory();\r\n  const renderBody = (item, index) => (\r\n    <tr key={index} onClick={() => HandleClickProductColorBranch(item.idBPC)}>\r\n      <td>{item.idBPC}</td>\r\n      <td>{item.idBranch}</td>\r\n      <td>{item.nameProduct}</td>\r\n      <td>{item.nameColor}</td>\r\n      <td>{item.price}</td>\r\n      <td>{item.type}</td>\r\n      <td>{item.amount}</td>\r\n    </tr>\r\n  );\r\n\r\n\r\n\r\n  // chuyển side working\r\n  function HandleClickProductColorBranch(idPCB) {\r\n    const idPCBtmp = idPCB ? idPCB : \"\";\r\n    history.push(`/productColorBranchWorkingPage/${idPCBtmp}`);\r\n    console.log(\"co click\");\r\n  }\r\n\r\n  const handleBranchFilter = (event) => {\r\n    const value = event.target.value;\r\n    console.log(event.target.value)\r\n    setBranchId(value)\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Gọi API hoặc lấy dữ liệu từ database tại đây\r\n    // Ví dụ:\r\n    fetch('https://localhost:8000/Admin/getBranchProductColor')\r\n      .then(res => res.json())\r\n      .then((data) => {\r\n        setListproductColorBranch(data)\r\n        setIsLoading(false)\r\n      }\r\n      )\r\n      .catch(err => console.error(err));\r\n  }, []); // Lưu ý tham số thứ hai của useEffect, truyền vào một mảng rỗng để useEffect chỉ chạy một lần khi component được mount\r\n\r\n  useEffect(() => {\r\n    const filteredList = listproductColorBranch.filter(\r\n      (item) => item.idBranch === parseInt(branchId)\r\n    );\r\n    setDsFillter(filteredList);\r\n    setKey(key + 1)\r\n  }, [branchId, listproductColorBranch]);\r\n\r\n\r\n\r\n  if (isLoading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n\r\n  return (\r\n    <div key={key}>\r\n      <h2 className=\"page-header\">Product- Color</h2>\r\n\r\n      <select\r\n        id=\"product-color-branch\"\r\n        name=\"product-color\"\r\n        className=\"select-color\"\r\n        value={branchId}\r\n        onChange={handleBranchFilter}\r\n      >\r\n        <option value=\"1\">Cửa Hàng 1</option>\r\n        <option value=\"2\">Cửa Hàng 2</option>\r\n        <option value=\"3\">Cửa Hàng 3</option>\r\n      </select>\r\n\r\n      <button\r\n        className=\"addProduct\"\r\n        onClick={() => HandleClickProductColorBranch(null)}\r\n      >\r\n        Thêm\r\n      </button>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <div className=\"card\">\r\n            <div className=\"card__body\">\r\n              <Table\r\n                limit=\"10\"\r\n                headData={productColorBranchTableHead}\r\n                renderHead={(item, index) => renderHead(item, index)}\r\n                bodyData={dsFillter}\r\n                renderBody={(item, index) => renderBody(item, index)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductColorBranch;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}